<div class="container my-5">
  <!-- Page Title -->
  <h1 class="text-center mb-4 text-primary">ðŸŽ¬ The Best Movie Listing App ðŸŽ¥</h1>

  <!-- Movie Lists Section -->
  <div class="row row-cols-1 g-4">
    <% @lists.each do |list| %>
      <div class="col">
        <!-- List Card -->
        <div class="card shadow-sm border-0 h-100 hover-effect">
          <div class="card-body">
            <!-- List Name -->
            <h5 class="card-title text-uppercase mb-3 text-center">
              <%= link_to list.name, list_path(list), class: "text-decoration-none text-dark" %>
            </h5>

            <!-- Movie Posters Row -->
            <div class="d-flex flex-nowrap overflow-auto">
              <% list.bookmarks.each do |bookmark| %>
                <div class="me-2">
                  <%= image_tag bookmark.movie.poster_url,
                                class: "img-fluid rounded shadow-sm",
                                alt: "#{bookmark.movie.title} Poster",
                                style: "width: 100px; height: 150px; object-fit: cover;" %>
                </div>
              <% end %>
              <% if list.bookmarks.empty? %>
                <div class="bg-light d-flex align-items-center justify-content-center text-muted"
                     style="width: 100%; height: 150px;">
                  <span>No Movies Added</span>
                </div>
              <% end %>
            </div>
          </div>

          <!-- Card Footer -->
          <div class="card-footer d-flex justify-content-between align-items-center">
            <!-- Add List Link -->
            <%= link_to list.name, list_path(list), class: "btn btn-primary btn-sm" %>

            <!-- Delete Button -->
            <%= link_to "Delete",
                        list_path(list),
                        data: { turbo_method: :delete, turbo_confirm: "Are you sure?" },
                        class: "btn btn-danger btn-sm" %>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <!-- Add New List Button -->
  <div class="text-center mt-4">
    <%= link_to "Add a New List", new_list_path, class: "btn btn-primary btn-lg px-4" %>
  </div>
</div>
